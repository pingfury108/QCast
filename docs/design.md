# QCast éŸ³è§†é¢‘æ‰˜ç®¡å¹³å°è®¾è®¡æ–‡æ¡£

## ä¸€ã€é¡¹ç›®æ¦‚è¿°

QCast æ˜¯ä¸€ä¸ªä¸ªäººéŸ³è§†é¢‘æ‰˜ç®¡å¹³å°ï¼Œç”¨æˆ·å¯ä»¥ä¸Šä¼ éŸ³é¢‘ã€è§†é¢‘æ–‡ä»¶ï¼Œä¸ºè¿™äº›æ–‡ä»¶ç”Ÿæˆå›ºå®šçš„è®¿é—®é“¾æ¥å’ŒäºŒç»´ç ï¼Œå¹¶é€šè¿‡ Book è¿›è¡Œåˆ†ç±»ç®¡ç†ã€‚

### æ ¸å¿ƒåŠŸèƒ½
1. **ç”¨æˆ·ç®¡ç†**ï¼šæ³¨å†Œã€ç™»å½•ã€è®¤è¯
2. **Book ç®¡ç†**ï¼šä¹¦ç±/ä¸“è¾‘/æ’­å®¢ç³»åˆ—ç­‰ï¼ˆæ”¯æŒå±‚çº§ç»“æ„ï¼‰
3. **åª’ä½“æ–‡ä»¶ç®¡ç†**ï¼šä¸Šä¼ éŸ³é¢‘/è§†é¢‘ï¼Œç”Ÿæˆå›ºå®šè®¿é—®é“¾æ¥
4. **äºŒç»´ç ç”Ÿæˆ**ï¼šä¸ºæ¯ä¸ªåª’ä½“æ–‡ä»¶ç”ŸæˆäºŒç»´ç 
5. **å±‚çº§ç»„ç»‡**ï¼šBook â†’ Chapter â†’ Media ç»“æ„

---

## äºŒã€æ•°æ®åº“æ¨¡å‹è®¾è®¡

### 2.1 Books è¡¨ï¼ˆä¹¦ç±/ä¸“è¾‘/ç³»åˆ—ï¼‰

```sql
CREATE TABLE books (
    id INTEGER PRIMARY KEY,
    user_id INTEGER NOT NULL,
    title VARCHAR(255) NOT NULL,
    description TEXT,
    cover_image VARCHAR(512),
    parent_id INTEGER,              -- æ”¯æŒå¤šçº§åˆ†ç±»
    sort_order INTEGER DEFAULT 0,
    is_public BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP,
    updated_at TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id),
    FOREIGN KEY (parent_id) REFERENCES books(id)
);
```

### 2.2 Chapters è¡¨ï¼ˆç« èŠ‚/é›†ï¼‰

```sql
CREATE TABLE chapters (
    id INTEGER PRIMARY KEY,
    book_id INTEGER NOT NULL,
    title VARCHAR(255) NOT NULL,
    description TEXT,
    sort_order INTEGER DEFAULT 0,
    created_at TIMESTAMP,
    updated_at TIMESTAMP,
    FOREIGN KEY (book_id) REFERENCES books(id) ON DELETE CASCADE
);
```

### 2.3 Media è¡¨ï¼ˆåª’ä½“æ–‡ä»¶ï¼‰

```sql
CREATE TABLE media (
    id INTEGER PRIMARY KEY,
    chapter_id INTEGER,              -- å¯é€‰ï¼Œå±äºæŸç« èŠ‚
    book_id INTEGER NOT NULL,        -- å¿…é¡»å±äºæŸä¸ª Book
    user_id INTEGER NOT NULL,
    title VARCHAR(255) NOT NULL,
    description TEXT,
    file_type VARCHAR(10) NOT NULL,  -- 'audio' or 'video'
    file_path VARCHAR(512) NOT NULL, -- å­˜å‚¨è·¯å¾„ï¼ˆå¯æ›´æ–°ï¼‰
    file_size BIGINT,
    duration INTEGER,                -- æ—¶é•¿ï¼ˆç§’ï¼‰
    mime_type VARCHAR(100),
    access_token VARCHAR(64) UNIQUE NOT NULL, -- å…¬å¼€è®¿é—®å”¯ä¸€æ ‡è¯†ï¼ˆåˆ›å»ºåæ°¸ä¸æ”¹å˜ï¼‰
    access_url VARCHAR(512),         -- å®Œæ•´è®¿é—®é“¾æ¥ï¼ˆåŸºäº access_token ç”Ÿæˆï¼‰
    qr_code_path VARCHAR(512),       -- äºŒç»´ç å›¾ç‰‡è·¯å¾„
    file_version INTEGER DEFAULT 1,  -- æ–‡ä»¶ç‰ˆæœ¬å·ï¼ˆæ”¯æŒæ–‡ä»¶æ›¿æ¢ï¼‰
    original_filename VARCHAR(255),  -- åŸå§‹æ–‡ä»¶å
    play_count INTEGER DEFAULT 0,    -- æ’­æ”¾æ¬¡æ•°
    is_public BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP,
    updated_at TIMESTAMP,
    FOREIGN KEY (book_id) REFERENCES books(id) ON DELETE CASCADE,
    FOREIGN KEY (chapter_id) REFERENCES chapters(id) ON DELETE SET NULL,
    FOREIGN KEY (user_id) REFERENCES users(id)
);
```

**é‡è¦è¯´æ˜ï¼š**
- `access_token`: åœ¨åª’ä½“è®°å½•åˆ›å»ºæ—¶ç”Ÿæˆï¼Œæ°¸ä¸æ”¹å˜ï¼Œä¿è¯è®¿é—®é“¾æ¥æ°¸ä¹…æœ‰æ•ˆ
- `file_path`: å¯ä»¥é€šè¿‡æ›¿æ¢æ–‡ä»¶åŠŸèƒ½æ›´æ–°ï¼Œä½† `access_token` ä¿æŒä¸å˜
- `file_version`: æ¯æ¬¡æ›¿æ¢æ–‡ä»¶æ—¶è‡ªå¢ï¼Œç”¨äºç‰ˆæœ¬è¿½è¸ª
- `original_filename`: ä¿å­˜ç”¨æˆ·ä¸Šä¼ çš„åŸå§‹æ–‡ä»¶åï¼Œæ–¹ä¾¿ä¸‹è½½æ—¶ä½¿ç”¨

### 2.4 å±‚çº§å…³ç³»

```
User
  â””â”€â”€ Book (å¯å¤šçº§åµŒå¥—ï¼Œé€šè¿‡ parent_id)
        â”œâ”€â”€ Chapter (å¯é€‰)
        â”‚     â””â”€â”€ Media
        â””â”€â”€ Media (ç›´æ¥å±äº Bookï¼Œä¸å±äº Chapter)
```

---

## ä¸‰ã€åç«¯ API è®¾è®¡

### 3.1 é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ controllers/
â”‚   â”œâ”€â”€ auth.rs           # ç”¨æˆ·è®¤è¯ï¼ˆå·²æœ‰ï¼‰
â”‚   â”œâ”€â”€ books.rs          # ä¹¦ç±ç®¡ç†
â”‚   â”œâ”€â”€ chapters.rs       # ç« èŠ‚ç®¡ç†
â”‚   â”œâ”€â”€ media.rs          # åª’ä½“æ–‡ä»¶ç®¡ç†
â”‚   â””â”€â”€ public.rs         # å…¬å¼€è®¿é—®
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ _entities/
â”‚   â”‚   â”œâ”€â”€ users.rs      # (å·²æœ‰)
â”‚   â”‚   â”œâ”€â”€ books.rs
â”‚   â”‚   â”œâ”€â”€ chapters.rs
â”‚   â”‚   â””â”€â”€ media.rs
â”‚   â”œâ”€â”€ books.rs          # Book ä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ chapters.rs       # Chapter ä¸šåŠ¡é€»è¾‘
â”‚   â””â”€â”€ media.rs          # Media ä¸šåŠ¡é€»è¾‘
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ storage.rs        # æ–‡ä»¶å­˜å‚¨æœåŠ¡
â”‚   â”œâ”€â”€ qrcode.rs         # äºŒç»´ç ç”Ÿæˆ
â”‚   â””â”€â”€ media_processor.rs # åª’ä½“å¤„ç†ï¼ˆæå–æ—¶é•¿ã€ç¼©ç•¥å›¾ç­‰ï¼‰
â”œâ”€â”€ workers/
â”‚   â””â”€â”€ media_processor.rs # åå°å¤„ç†åª’ä½“æ–‡ä»¶
â””â”€â”€ views/
    â”œâ”€â”€ books.rs          # Book å“åº”è§†å›¾
    â”œâ”€â”€ chapters.rs       # Chapter å“åº”è§†å›¾
    â””â”€â”€ media.rs          # Media å“åº”è§†å›¾
```

### 3.2 API è·¯ç”±è®¾è®¡

#### Books APIï¼ˆéœ€è¦è®¤è¯ï¼‰

```
POST   /api/books                     åˆ›å»ºä¹¦ç±
GET    /api/books                     è·å–æˆ‘çš„ä¹¦ç±åˆ—è¡¨ï¼ˆæ”¯æŒæ ‘å½¢ç»“æ„ï¼‰
GET    /api/books/search?q=å…³é”®è¯     æœç´¢æˆ‘çš„ä¹¦ç±
GET    /api/books/:id                 è·å–ä¹¦ç±è¯¦æƒ…
PUT    /api/books/:id                 æ›´æ–°ä¹¦ç±
DELETE /api/books/:id                 åˆ é™¤ä¹¦ç±
GET    /api/books/:id/tree            è·å–ä¹¦ç±å®Œæ•´æ ‘å½¢ç»“æ„ï¼ˆå«ç« èŠ‚å’Œåª’ä½“ï¼‰
POST   /api/books/:id/reorder         è°ƒæ•´ä¹¦ç±é¡ºåº
```

**è¯·æ±‚/å“åº”ç¤ºä¾‹ï¼š**

```json
// POST /api/books
{
  "title": "æˆ‘çš„æ’­å®¢ç³»åˆ—",
  "description": "è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªæ’­å®¢",
  "parent_id": null,
  "is_public": true
}

// Response
{
  "id": 1,
  "user_id": 1,
  "title": "æˆ‘çš„æ’­å®¢ç³»åˆ—",
  "description": "è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªæ’­å®¢",
  "cover_image": null,
  "parent_id": null,
  "is_public": true,
  "created_at": "2025-10-06T12:00:00Z"
}
```

#### Chapters APIï¼ˆéœ€è¦è®¤è¯ï¼‰

```
POST   /api/books/:book_id/chapters   åˆ›å»ºç« èŠ‚
GET    /api/books/:book_id/chapters   è·å–ç« èŠ‚åˆ—è¡¨
GET    /api/chapters/:id              è·å–ç« èŠ‚è¯¦æƒ…
PUT    /api/chapters/:id              æ›´æ–°ç« èŠ‚
DELETE /api/chapters/:id              åˆ é™¤ç« èŠ‚
POST   /api/chapters/:id/reorder      è°ƒæ•´ç« èŠ‚é¡ºåº
```

#### Media APIï¼ˆéœ€è¦è®¤è¯ï¼‰

```
POST   /api/media/upload              ä¸Šä¼ åª’ä½“æ–‡ä»¶ï¼ˆmultipart/form-dataï¼‰
GET    /api/media                     è·å–æˆ‘çš„åª’ä½“åˆ—è¡¨
GET    /api/media/search?q=å…³é”®è¯     æœç´¢æˆ‘çš„åª’ä½“
GET    /api/media/:id                 è·å–åª’ä½“è¯¦æƒ…
PUT    /api/media/:id                 æ›´æ–°åª’ä½“ä¿¡æ¯ï¼ˆæ ‡é¢˜ã€æè¿°ç­‰å…ƒæ•°æ®ï¼‰
PUT    /api/media/:id/replace-file    æ›¿æ¢åª’ä½“æ–‡ä»¶ï¼ˆä¿æŒè®¿é—®é“¾æ¥ä¸å˜ï¼‰
DELETE /api/media/:id                 åˆ é™¤åª’ä½“
GET    /api/media/:id/qrcode          è·å–äºŒç»´ç å›¾ç‰‡
POST   /api/media/:id/regenerate-qr   é‡æ–°ç”ŸæˆäºŒç»´ç 
POST   /api/media/:id/publish         å‘å¸ƒ/å–æ¶ˆå‘å¸ƒ
GET    /api/media/:id/history         è·å–æ–‡ä»¶ç‰ˆæœ¬å†å²
```

**ä¸Šä¼ è¯·æ±‚ç¤ºä¾‹ï¼š**

```
POST /api/media/upload
Content-Type: multipart/form-data

file: [binary data]
title: "ç¬¬ä¸€é›†"
description: "è¿™æ˜¯ç¬¬ä¸€é›†çš„å†…å®¹"
book_id: 1
chapter_id: 1  (å¯é€‰)
```

**å“åº”ç¤ºä¾‹ï¼š**

```json
{
  "id": 1,
  "title": "ç¬¬ä¸€é›†",
  "description": "è¿™æ˜¯ç¬¬ä¸€é›†çš„å†…å®¹",
  "file_type": "audio",
  "file_size": 10485760,
  "duration": 1200,
  "access_token": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
  "access_url": "http://localhost:5150/public/media/a1b2c3d4-e5f6-7890-abcd-ef1234567890",
  "qr_code_path": "/static/qrcodes/1.png",
  "file_version": 1,
  "original_filename": "episode1.mp3",
  "is_public": false,
  "created_at": "2025-10-06T12:00:00Z",
  "updated_at": "2025-10-06T12:00:00Z"
}
```

**æ›¿æ¢æ–‡ä»¶è¯·æ±‚ç¤ºä¾‹ï¼š**

```
PUT /api/media/:id/replace-file
Content-Type: multipart/form-data

file: [æ–°çš„åª’ä½“æ–‡ä»¶]
```

**æ›¿æ¢æ–‡ä»¶å“åº”ç¤ºä¾‹ï¼š**

```json
{
  "id": 1,
  "title": "ç¬¬ä¸€é›†",
  "file_type": "audio",
  "file_size": 12345678,
  "duration": 1350,
  "access_token": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",  // ä¿æŒä¸å˜
  "access_url": "http://localhost:5150/public/media/a1b2c3d4-e5f6-7890-abcd-ef1234567890",  // ä¿æŒä¸å˜
  "file_version": 2,  // ç‰ˆæœ¬å·è‡ªå¢
  "original_filename": "episode1_v2.mp3",
  "updated_at": "2025-10-06T14:30:00Z"
}
```

#### Public APIï¼ˆæ— éœ€è®¤è¯ï¼‰

```
GET    /public/media/:access_token    æ’­æ”¾åª’ä½“ï¼ˆæ”¯æŒ Range è¯·æ±‚ï¼‰
GET    /public/media/:access_token/info  è·å–åª’ä½“ä¿¡æ¯
GET    /public/books/:id              æŸ¥çœ‹å…¬å¼€ä¹¦ç±
```

---

## å››ã€æŠ€æœ¯é€‰å‹

### 4.1 åç«¯æŠ€æœ¯æ ˆ

| åŠŸèƒ½ | æŠ€æœ¯æ–¹æ¡ˆ | Rust Crate | è¯´æ˜ |
|------|---------|-----------|------|
| æ¡†æ¶ | Loco | `loco-rs = "0.16"` | å·²æœ‰ |
| æ–‡ä»¶ä¸Šä¼  | Multipart form | `axum-extra` | å·²æœ‰ |
| æ–‡ä»¶å­˜å‚¨ | æœ¬åœ°å­˜å‚¨ | `tokio::fs` | åˆæœŸä½¿ç”¨ |
| äºŒç»´ç ç”Ÿæˆ | QR Code | `qrcode` | å¾…æ·»åŠ  |
| å›¾ç‰‡å¤„ç† | Image | `image` | å¾…æ·»åŠ  |
| åª’ä½“ä¿¡æ¯æå– | FFmpeg | `ffmpeg-next` | å¯é€‰ |
| æµåª’ä½“ä¼ è¾“ | Range è¯·æ±‚ | `tower-http` | å¾…æ·»åŠ  |
| UUID ç”Ÿæˆ | UUID v4 | `uuid` | å·²æœ‰ |

**Cargo.toml éœ€è¦æ·»åŠ çš„ä¾èµ–ï¼š**

```toml
qrcode = "0.14"
image = "0.25"
tower-http = { version = "0.6", features = ["fs", "trace"] }
bytes = "1.5"
```

### 4.2 å‰ç«¯æŠ€æœ¯æ ˆ

```
ui/
â”œâ”€â”€ React 18 + TypeScript
â”œâ”€â”€ æ„å»ºå·¥å…·: Vite
â”œâ”€â”€ åŒ…ç®¡ç†: pnpm
â”œâ”€â”€ çŠ¶æ€ç®¡ç†: TanStack Query (React Query)
â”œâ”€â”€ UI æ¡†æ¶: shadcn/uiï¼ˆåŸºäº Radix UI + Tailwind CSSï¼‰
â”œâ”€â”€ æ ·å¼: Tailwind CSS
â”œâ”€â”€ è·¯ç”±: React Router v6
â”œâ”€â”€ è¡¨å•éªŒè¯: React Hook Form + Zod
â”œâ”€â”€ æ–‡ä»¶ä¸Šä¼ : react-dropzone
â”œâ”€â”€ æ’­æ”¾å™¨:
â”‚   â”œâ”€â”€ éŸ³é¢‘: Plyr
â”‚   â””â”€â”€ è§†é¢‘: video.js
â”œâ”€â”€ äºŒç»´ç : qrcode.react
â””â”€â”€ HTTP å®¢æˆ·ç«¯: axios
```

**shadcn/ui ç»„ä»¶ä½¿ç”¨ï¼š**
- Button, Input, Form, Label
- Card, Dialog, DropdownMenu
- Table, Tabs, Toast
- Progress, Skeleton
- æš—è‰²æ¨¡å¼æ”¯æŒ

---

## äº”ã€å‰ç«¯é¡µé¢è®¾è®¡

### 5.1 é¡µé¢ç»“æ„

```
/                       é¦–é¡µï¼ˆLanding Pageï¼Œå®£ä¼ ä»‹ç»é¡µï¼Œæ— éœ€ç™»å½•ï¼‰
/login                  ç™»å½•é¡µ
/register               æ³¨å†Œé¡µ
/forgot-password        å¿˜è®°å¯†ç é¡µ
/reset-password/:token  é‡ç½®å¯†ç é¡µ

/dashboard              ç”¨æˆ·æ§åˆ¶å°ï¼ˆéœ€è¦è®¤è¯ï¼‰
  â”œâ”€â”€ /books            ä¹¦ç±ç®¡ç†ï¼ˆæ ‘å½¢åˆ—è¡¨ï¼‰
  â”œâ”€â”€ /books/new        åˆ›å»ºæ–°ä¹¦ç±
  â”œâ”€â”€ /books/:id        ä¹¦ç±è¯¦æƒ…ï¼ˆç¼–è¾‘ã€ç« èŠ‚ã€åª’ä½“ï¼‰
  â”œâ”€â”€ /books/:id/edit   ç¼–è¾‘ä¹¦ç±
  â”œâ”€â”€ /upload           æ‰¹é‡ä¸Šä¼ åª’ä½“
  â””â”€â”€ /media            æ‰€æœ‰åª’ä½“æ–‡ä»¶ç®¡ç†

/public/:token          å…¬å¼€è®¿é—®é¡µé¢ï¼ˆæ— éœ€è®¤è¯ï¼‰
  â”œâ”€â”€ åª’ä½“æ’­æ”¾å™¨
  â”œâ”€â”€ äºŒç»´ç å±•ç¤º
  â””â”€â”€ åˆ†äº«æŒ‰é’®
```

### 5.2 æ ¸å¿ƒé¡µé¢è®¾è®¡

#### ç™»å½•é¡µï¼ˆ/loginï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  QCast                                      [è¿”å›é¦–é¡µ]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚                    ğŸµ QCast                              â”‚
â”‚                  æ¬¢è¿å›æ¥                                â”‚
â”‚                                                          â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚     â”‚  ç™»å½•                                  â”‚          â”‚
â”‚     â”‚                                        â”‚          â”‚
â”‚     â”‚  é‚®ç®±                                  â”‚          â”‚
â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚          â”‚
â”‚     â”‚  â”‚ your@email.com                   â”‚ â”‚          â”‚
â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚          â”‚
â”‚     â”‚                                        â”‚          â”‚
â”‚     â”‚  å¯†ç                                   â”‚          â”‚
â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚          â”‚
â”‚     â”‚  â”‚ â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢                       â”‚ â”‚          â”‚
â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚          â”‚
â”‚     â”‚                                        â”‚          â”‚
â”‚     â”‚  [ ] è®°ä½æˆ‘     [å¿˜è®°å¯†ç ï¼Ÿ]          â”‚          â”‚
â”‚     â”‚                                        â”‚          â”‚
â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚          â”‚
â”‚     â”‚  â”‚         ç™»  å½•                   â”‚ â”‚          â”‚
â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚          â”‚
â”‚     â”‚                                        â”‚          â”‚
â”‚     â”‚  è¿˜æ²¡æœ‰è´¦å·ï¼Ÿ [ç«‹å³æ³¨å†Œ]              â”‚          â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**shadcn/ui ç»„ä»¶ï¼š**
- `Card` - ç™»å½•è¡¨å•å®¹å™¨
- `Form` + `Input` + `Label` - è¡¨å•å­—æ®µ
- `Button` - ç™»å½•æŒ‰é’®
- `Checkbox` - è®°ä½æˆ‘
- `Link` - è·³è½¬é“¾æ¥

**è¡¨å•éªŒè¯ï¼ˆZodï¼‰ï¼š**
```typescript
const loginSchema = z.object({
  email: z.string().email("è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€"),
  password: z.string().min(6, "å¯†ç è‡³å°‘ 6 ä½"),
  remember: z.boolean().optional(),
});
```

---

#### æ³¨å†Œé¡µï¼ˆ/registerï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  QCast                                      [è¿”å›é¦–é¡µ]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚                    ğŸµ QCast                              â”‚
â”‚                  åˆ›å»ºä½ çš„è´¦å·                            â”‚
â”‚                                                          â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚     â”‚  æ³¨å†Œ                                  â”‚          â”‚
â”‚     â”‚                                        â”‚          â”‚
â”‚     â”‚  ç”¨æˆ·å                                â”‚          â”‚
â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚          â”‚
â”‚     â”‚  â”‚ è¯·è¾“å…¥ç”¨æˆ·å                     â”‚ â”‚          â”‚
â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚          â”‚
â”‚     â”‚                                        â”‚          â”‚
â”‚     â”‚  é‚®ç®±                                  â”‚          â”‚
â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚          â”‚
â”‚     â”‚  â”‚ your@email.com                   â”‚ â”‚          â”‚
â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚          â”‚
â”‚     â”‚                                        â”‚          â”‚
â”‚     â”‚  å¯†ç                                   â”‚          â”‚
â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚          â”‚
â”‚     â”‚  â”‚ â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢                       â”‚ â”‚          â”‚
â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚          â”‚
â”‚     â”‚  è‡³å°‘ 6 ä½å­—ç¬¦                         â”‚          â”‚
â”‚     â”‚                                        â”‚          â”‚
â”‚     â”‚  ç¡®è®¤å¯†ç                               â”‚          â”‚
â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚          â”‚
â”‚     â”‚  â”‚ â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢                       â”‚ â”‚          â”‚
â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚          â”‚
â”‚     â”‚                                        â”‚          â”‚
â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚          â”‚
â”‚     â”‚  â”‚         æ³¨  å†Œ                   â”‚ â”‚          â”‚
â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚          â”‚
â”‚     â”‚                                        â”‚          â”‚
â”‚     â”‚  å·²æœ‰è´¦å·ï¼Ÿ [ç«‹å³ç™»å½•]                â”‚          â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**shadcn/ui ç»„ä»¶ï¼š**
- `Card` - æ³¨å†Œè¡¨å•å®¹å™¨
- `Form` + `Input` + `Label` - è¡¨å•å­—æ®µ
- `Button` - æ³¨å†ŒæŒ‰é’®
- `Alert` - é”™è¯¯æç¤º

**è¡¨å•éªŒè¯ï¼ˆZodï¼‰ï¼š**
```typescript
const registerSchema = z.object({
  name: z.string().min(2, "ç”¨æˆ·åè‡³å°‘ 2 ä½"),
  email: z.string().email("è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€"),
  password: z.string().min(6, "å¯†ç è‡³å°‘ 6 ä½"),
  confirmPassword: z.string(),
}).refine((data) => data.password === data.confirmPassword, {
  message: "ä¸¤æ¬¡å¯†ç ä¸ä¸€è‡´",
  path: ["confirmPassword"],
});
```

---

#### å¿˜è®°å¯†ç é¡µï¼ˆ/forgot-passwordï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  QCast                                      [è¿”å›ç™»å½•]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚                    ğŸµ QCast                              â”‚
â”‚                  é‡ç½®å¯†ç                                 â”‚
â”‚                                                          â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚     â”‚  æ‰¾å›å¯†ç                               â”‚          â”‚
â”‚     â”‚                                        â”‚          â”‚
â”‚     â”‚  è¯·è¾“å…¥ä½ çš„æ³¨å†Œé‚®ç®±ï¼Œæˆ‘ä»¬å°†å‘é€é‡ç½®    â”‚          â”‚
â”‚     â”‚  å¯†ç é“¾æ¥åˆ°ä½ çš„é‚®ç®±ã€‚                  â”‚          â”‚
â”‚     â”‚                                        â”‚          â”‚
â”‚     â”‚  é‚®ç®±                                  â”‚          â”‚
â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚          â”‚
â”‚     â”‚  â”‚ your@email.com                   â”‚ â”‚          â”‚
â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚          â”‚
â”‚     â”‚                                        â”‚          â”‚
â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚          â”‚
â”‚     â”‚  â”‚      å‘é€é‡ç½®é“¾æ¥                â”‚ â”‚          â”‚
â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚          â”‚
â”‚     â”‚                                        â”‚          â”‚
â”‚     â”‚  [è¿”å›ç™»å½•]                            â”‚          â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### é‡ç½®å¯†ç é¡µï¼ˆ/reset-password/:tokenï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  QCast                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚                    ğŸµ QCast                              â”‚
â”‚                  è®¾ç½®æ–°å¯†ç                               â”‚
â”‚                                                          â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚     â”‚  é‡ç½®å¯†ç                               â”‚          â”‚
â”‚     â”‚                                        â”‚          â”‚
â”‚     â”‚  æ–°å¯†ç                                 â”‚          â”‚
â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚          â”‚
â”‚     â”‚  â”‚ â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢                       â”‚ â”‚          â”‚
â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚          â”‚
â”‚     â”‚  è‡³å°‘ 6 ä½å­—ç¬¦                         â”‚          â”‚
â”‚     â”‚                                        â”‚          â”‚
â”‚     â”‚  ç¡®è®¤æ–°å¯†ç                             â”‚          â”‚
â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚          â”‚
â”‚     â”‚  â”‚ â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢                       â”‚ â”‚          â”‚
â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚          â”‚
â”‚     â”‚                                        â”‚          â”‚
â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚          â”‚
â”‚     â”‚  â”‚      é‡ç½®å¯†ç                     â”‚ â”‚          â”‚
â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚          â”‚
â”‚     â”‚                                        â”‚          â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### é¦–é¡µï¼ˆ/ - Landing Pageï¼‰

**è®¾è®¡ç›®æ ‡ï¼š** å®£ä¼ ç«™ç‚¹åŠŸèƒ½ï¼Œå¼•å¯¼ç”¨æˆ·æ³¨å†Œ/ç™»å½•

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  QCast                           [ç™»å½•] [æ³¨å†Œ]          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚              ğŸµ QCast éŸ³è§†é¢‘æ‰˜ç®¡å¹³å°                     â”‚
â”‚                                                          â”‚
â”‚         è½»æ¾æ‰˜ç®¡ä½ çš„éŸ³é¢‘å’Œè§†é¢‘ï¼Œéšæ—¶éšåœ°åˆ†äº«             â”‚
â”‚                                                          â”‚
â”‚              [å¼€å§‹ä½¿ç”¨] [äº†è§£æ›´å¤š]                       â”‚
â”‚                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ ¸å¿ƒåŠŸèƒ½                                                â”‚
â”‚                                                          â”‚
â”‚  ğŸ“¤ ä¸Šä¼ åª’ä½“              ğŸ”— æ°¸ä¹…é“¾æ¥                    â”‚
â”‚  å¿«é€Ÿä¸Šä¼ éŸ³é¢‘ã€è§†é¢‘      ç”Ÿæˆæ°¸ä¹…è®¿é—®é“¾æ¥                â”‚
â”‚  æ”¯æŒæ‰¹é‡æ“ä½œ            é“¾æ¥æ°¸ä¸è¿‡æœŸ                    â”‚
â”‚                                                          â”‚
â”‚  ğŸ“± äºŒç»´ç åˆ†äº«            ğŸ“š å±‚çº§ç®¡ç†                    â”‚
â”‚  è‡ªåŠ¨ç”ŸæˆäºŒç»´ç           Book/Chapter/Media             â”‚
â”‚  æ‰«ç å³å¯æ’­æ”¾            ç»“æ„åŒ–ç»„ç»‡å†…å®¹                  â”‚
â”‚                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ä½¿ç”¨åœºæ™¯                                                â”‚
â”‚                                                          â”‚
â”‚  ğŸ™ï¸ æ’­å®¢åˆ¶ä½œè€…           ğŸ“– æœ‰å£°ä¹¦ä½œè€…                  â”‚
â”‚  æ‰˜ç®¡ä½ çš„æ’­å®¢ç³»åˆ—        ç®¡ç†ä½ çš„æœ‰å£°ä¹¦ç« èŠ‚              â”‚
â”‚                                                          â”‚
â”‚  ğŸ“ åœ¨çº¿è¯¾ç¨‹             ğŸ¬ è§†é¢‘åˆ›ä½œè€…                   â”‚
â”‚  ç»„ç»‡è¯¾ç¨‹è§†é¢‘            åˆ†äº«ä½ çš„è§†é¢‘ä½œå“                â”‚
â”‚                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å·¥ä½œæµç¨‹                                                â”‚
â”‚                                                          â”‚
â”‚  1ï¸âƒ£ åˆ›å»º Book          2ï¸âƒ£ ä¸Šä¼ åª’ä½“æ–‡ä»¶                 â”‚
â”‚  åˆ›å»ºæ’­å®¢ã€ä¸“è¾‘æˆ–è¯¾ç¨‹    ä¸Šä¼ ä½ çš„éŸ³è§†é¢‘æ–‡ä»¶              â”‚
â”‚                                                          â”‚
â”‚  3ï¸âƒ£ ç”Ÿæˆåˆ†äº«é“¾æ¥        4ï¸âƒ£ åˆ†äº«ç»™è§‚ä¼—                  â”‚
â”‚  è‡ªåŠ¨ç”Ÿæˆé“¾æ¥å’ŒäºŒç»´ç     é€šè¿‡é“¾æ¥æˆ–äºŒç»´ç åˆ†äº«            â”‚
â”‚                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç‰¹è‰²åŠŸèƒ½                                                â”‚
â”‚                                                          â”‚
â”‚  âœ… æ°¸ä¹…è®¿é—®é“¾æ¥ - é“¾æ¥ç”Ÿæˆåæ°¸ä¸æ”¹å˜                    â”‚
â”‚  âœ… æ–‡ä»¶å¯æ›¿æ¢ - å¯ä»¥æ›´æ–°æ–‡ä»¶ä½†é“¾æ¥ä¿æŒä¸å˜              â”‚
â”‚  âœ… ç‰ˆæœ¬ç®¡ç† - è¿½è¸ªæ¯æ¬¡æ–‡ä»¶æ›´æ–°                          â”‚
â”‚  âœ… äºŒç»´ç åˆ†äº« - è‡ªåŠ¨ç”ŸæˆäºŒç»´ç ï¼Œæ‰«ç å³æ’­                â”‚
â”‚  âœ… ç§å¯†æ§åˆ¶ - åªæœ‰ä½ èƒ½ç®¡ç†ï¼Œä»–äººåªèƒ½é€šè¿‡é“¾æ¥è®¿é—®        â”‚
â”‚                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  [ç«‹å³å¼€å§‹]                              â”‚
â”‚                                                          â”‚
â”‚  Footer: Â© 2025 QCast | å…³äºæˆ‘ä»¬ | ä½¿ç”¨æ¡æ¬¾ | éšç§æ”¿ç­–  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**äº¤äº’é€»è¾‘ï¼š**
- **å·²ç™»å½•ç”¨æˆ·è®¿é—®é¦–é¡µ**ï¼šè‡ªåŠ¨è·³è½¬åˆ° `/dashboard`
- **æœªç™»å½•ç”¨æˆ·**ï¼šæ˜¾ç¤ºå®Œæ•´å®£ä¼ é¡µ
- **ç‚¹å‡»"å¼€å§‹ä½¿ç”¨"/"ç«‹å³å¼€å§‹"**ï¼šè·³è½¬åˆ° `/register`
- **ç‚¹å‡»"äº†è§£æ›´å¤š"**ï¼šé¡µé¢æ»šåŠ¨åˆ°åŠŸèƒ½ä»‹ç»åŒºåŸŸ

**æŠ€æœ¯å®ç°ï¼š**
- çº¯é™æ€é¡µé¢ï¼Œæ— éœ€è°ƒç”¨åç«¯ API
- å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯è®¿é—®
- å¯é€‰ï¼šæ·»åŠ åŠ¨ç”»æ•ˆæœï¼ˆæ¸å…¥ã€æ»šåŠ¨è§†å·®ç­‰ï¼‰

---

#### ä¹¦ç±ç®¡ç†é¡µé¢ï¼ˆ/dashboard/booksï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  QCast                    [æˆ‘çš„ä¹¦ç±] [ä¸Šä¼ ] [ç”¨æˆ·å¤´åƒâ–¼] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æˆ‘çš„ä¹¦ç±                                  [+ æ–°å»ºä¹¦ç±] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ” æœç´¢...                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“š Podcast ç³»åˆ— 1                      [ç¼–è¾‘] [åˆ é™¤]   â”‚
â”‚    â”œâ”€â”€ ğŸ“– Season 1                                       â”‚
â”‚    â”‚   â”œâ”€â”€ ğŸµ Episode 1          [ğŸ‘ï¸ å…¬å¼€] [QR]        â”‚
â”‚    â”‚   â””â”€â”€ ğŸµ Episode 2          [ğŸ”’ ç§å¯†] [QR]        â”‚
â”‚    â””â”€â”€ ğŸ“– Season 2                                       â”‚
â”‚        â””â”€â”€ ğŸµ Episode 3          [ğŸ‘ï¸ å…¬å¼€] [QR]        â”‚
â”‚                                                          â”‚
â”‚  ğŸ“š æœ‰å£°ä¹¦                              [ç¼–è¾‘] [åˆ é™¤]   â”‚
â”‚    â”œâ”€â”€ ğŸµ ç¬¬ä¸€ç«                     [ğŸ‘ï¸ å…¬å¼€] [QR]     â”‚
â”‚    â””â”€â”€ ğŸµ ç¬¬äºŒç«                     [ğŸ”’ ç§å¯†] [QR]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å…¨å±€å¯¼èˆªæ ï¼š**
- Logo: QCastï¼ˆç‚¹å‡»è¿”å› Dashboardï¼‰
- å¯¼èˆªèœå•: æˆ‘çš„ä¹¦ç±ã€ä¸Šä¼ 
- ç”¨æˆ·èœå•: å¤´åƒä¸‹æ‹‰ï¼ˆè®¾ç½®ã€é€€å‡ºç™»å½•ï¼‰

---

#### Dashboard é¦–é¡µï¼ˆ/dashboardï¼‰

**è¯´æ˜ï¼š** ç”¨æˆ·ç™»å½•åçš„é»˜è®¤é¡µé¢ï¼Œè‡ªåŠ¨è·³è½¬åˆ° `/dashboard/books`

---

#### Book è¯¦æƒ…é¡µï¼ˆ/dashboard/books/:idï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  QCast                    [æˆ‘çš„ä¹¦ç±] [ä¸Šä¼ ] [ç”¨æˆ·å¤´åƒâ–¼] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â† è¿”å›ä¹¦ç±åˆ—è¡¨                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“š Podcast ç³»åˆ— 1                      [ç¼–è¾‘] [åˆ é™¤]   â”‚
â”‚  æè¿°: è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªæ’­å®¢ç³»åˆ—                            â”‚
â”‚  åˆ›å»ºæ—¶é—´: 2025-10-06  |  åª’ä½“æ•°: 5                     â”‚
â”‚  çŠ¶æ€: ğŸ‘ï¸ å…¬å¼€                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ğŸ“– ç« èŠ‚] [ğŸµ åª’ä½“] [âš™ï¸ è®¾ç½®]                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åª’ä½“åˆ—è¡¨                                  [+ ä¸Šä¼ åª’ä½“] â”‚
â”‚                                                          â”‚
â”‚  ğŸµ Episode 1                           [ğŸ‘ï¸] [QR] [â‹®]  â”‚
â”‚  æ—¶é•¿: 20:15  |  æ’­æ”¾: 123æ¬¡  |  v1                     â”‚
â”‚                                                          â”‚
â”‚  ğŸµ Episode 2                           [ğŸ”’] [QR] [â‹®]  â”‚
â”‚  æ—¶é•¿: 18:30  |  æ’­æ”¾: 45æ¬¡   |  v2                     â”‚
â”‚                                                          â”‚
â”‚  ğŸµ Episode 3                           [ğŸ‘ï¸] [QR] [â‹®]  â”‚
â”‚  æ—¶é•¿: 22:00  |  æ’­æ”¾: 89æ¬¡   |  v1                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**äº¤äº’è¯´æ˜ï¼š**
- ç‚¹å‡»åª’ä½“è¡Œ â†’ å±•å¼€è¯¦æƒ…/ç¼–è¾‘
- [â‹®] èœå• â†’ ç¼–è¾‘ã€æ›¿æ¢æ–‡ä»¶ã€åˆ é™¤ã€å¤åˆ¶é“¾æ¥
- Tab åˆ‡æ¢ï¼šç« èŠ‚ã€åª’ä½“ã€è®¾ç½®

---

#### Media åˆ—è¡¨é¡µï¼ˆ/dashboard/mediaï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  QCast                    [æˆ‘çš„ä¹¦ç±] [ä¸Šä¼ ] [ç”¨æˆ·å¤´åƒâ–¼] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ‰€æœ‰åª’ä½“                                  [+ ä¸Šä¼ åª’ä½“] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ” æœç´¢åª’ä½“...                  [ç­›é€‰: å…¨éƒ¨ â–¼]         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“š Podcast ç³»åˆ— 1 / Episode 1           [ğŸ‘ï¸] [QR] [â‹®] â”‚
â”‚  ğŸµ éŸ³é¢‘  |  20:15  |  123æ¬¡æ’­æ”¾  |  v1                 â”‚
â”‚  2025-10-06 åˆ›å»º                                        â”‚
â”‚                                                          â”‚
â”‚  ğŸ“š Podcast ç³»åˆ— 1 / Episode 2           [ğŸ”’] [QR] [â‹®] â”‚
â”‚  ğŸµ éŸ³é¢‘  |  18:30  |  45æ¬¡æ’­æ”¾   |  v2                 â”‚
â”‚  2025-10-05 åˆ›å»º                                        â”‚
â”‚                                                          â”‚
â”‚  ğŸ“š æœ‰å£°ä¹¦ / ç¬¬ä¸€ç«                       [ğŸ‘ï¸] [QR] [â‹®] â”‚
â”‚  ğŸµ éŸ³é¢‘  |  35:20  |  67æ¬¡æ’­æ”¾   |  v1                 â”‚
â”‚  2025-10-04 åˆ›å»º                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**åŠŸèƒ½è¯´æ˜ï¼š**
- æ˜¾ç¤ºæ‰€æœ‰åª’ä½“æ–‡ä»¶ï¼ˆè·¨ Bookï¼‰
- æ”¯æŒæœç´¢å’Œç­›é€‰ï¼ˆå…¨éƒ¨/éŸ³é¢‘/è§†é¢‘ã€å…¬å¼€/ç§å¯†ï¼‰
- æ˜¾ç¤ºæ‰€å± Book è·¯å¾„

---

#### ä¸Šä¼ é¡µé¢ï¼ˆ/dashboard/uploadï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  QCast                    [æˆ‘çš„ä¹¦ç±] [ä¸Šä¼ ] [ç”¨æˆ·å¤´åƒâ–¼] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ä¸Šä¼ åª’ä½“æ–‡ä»¶                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  é€‰æ‹©å½’å±ä¹¦ç±: [ä¸‹æ‹‰é€‰æ‹©]                               â”‚
â”‚  é€‰æ‹©å½’å±ç« èŠ‚: [ä¸‹æ‹‰é€‰æ‹©] (å¯é€‰)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   æ‹–æ‹½æ–‡ä»¶åˆ°æ­¤å¤„                                  â”‚  â”‚
â”‚  â”‚   æˆ–ç‚¹å‡»é€‰æ‹©æ–‡ä»¶                                  â”‚  â”‚
â”‚  â”‚   æ”¯æŒ MP3, MP4, WAV, M4A ç­‰æ ¼å¼                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ä¸Šä¼ é˜Ÿåˆ—:                                               â”‚
â”‚  âœ“ episode1.mp3  (100%)                                 â”‚
â”‚  â³ episode2.mp3  (45%)                                  â”‚
â”‚  â¸ï¸ episode3.mp4  (ç­‰å¾…ä¸­)                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### å…¬å¼€è®¿é—®é¡µé¢ï¼ˆ/public/:tokenï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  QCast                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚   â”‚          [å°é¢å›¾/ç¼©ç•¥å›¾]                      â”‚     â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                          â”‚
â”‚   æ ‡é¢˜: ç¬¬ä¸€é›†                                           â”‚
â”‚   æè¿°: è¿™æ˜¯ç¬¬ä¸€é›†çš„å†…å®¹                                 â”‚
â”‚   æ—¶é•¿: 20:00                                            â”‚
â”‚   æ’­æ”¾æ¬¡æ•°: 123                                          â”‚
â”‚                                                          â”‚
â”‚   â”â”â”â”â”â”â”â”â”â”â”â”â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 12:34/20:00            â”‚
â”‚   [â®ï¸] [â¯ï¸] [â­ï¸]  [ğŸ”Š] [âš™ï¸] [å…¨å±]                      â”‚
â”‚                                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                      â”‚
â”‚   â”‚              â”‚                                      â”‚
â”‚   â”‚   QR Code    â”‚                                      â”‚
â”‚   â”‚              â”‚                                      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                      â”‚
â”‚                                                          â”‚
â”‚   [ğŸ“‹ å¤åˆ¶é“¾æ¥] [ğŸ“± åˆ†äº«] [â¬‡ï¸ ä¸‹è½½]                     â”‚
â”‚                                                          â”‚
â”‚   Powered by QCast                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è¯´æ˜ï¼š**
- å…¬å¼€é¡µé¢ä¿æŒç®€æ´ï¼Œåªæ˜¾ç¤º Logo
- æ— éœ€ç™»å½•ï¼Œä¸æ˜¾ç¤ºç”¨æˆ·èœå•
- åº•éƒ¨æ·»åŠ å“ç‰Œæ ‡è¯†

---

### 5.3 UI è®¾è®¡è§„èŒƒ

#### ç»Ÿä¸€å…ƒç´ 

**1. é¡µé¢å®½åº¦ï¼š**
- æ‰€æœ‰é¡µé¢ä½¿ç”¨ç»Ÿä¸€å®½åº¦ï¼ˆçº¦ 57 ä¸ªå­—ç¬¦å®½ï¼‰
- å“åº”å¼è®¾è®¡ï¼šç§»åŠ¨ç«¯è‡ªé€‚åº”

**2. é¡¶éƒ¨å¯¼èˆªæ ï¼š**
- **é¦–é¡µï¼ˆæœªç™»å½•ï¼‰**ï¼š`QCast  [ç™»å½•] [æ³¨å†Œ]`
- **Dashboard é¡µé¢**ï¼š`QCast  [æˆ‘çš„ä¹¦ç±] [ä¸Šä¼ ] [ç”¨æˆ·å¤´åƒâ–¼]`
- **å…¬å¼€è®¿é—®é¡µé¢**ï¼š`QCast`ï¼ˆä»… Logoï¼‰
- é«˜åº¦å›ºå®šï¼ŒèƒŒæ™¯è‰²ç»Ÿä¸€

**3. æŒ‰é’®æ ·å¼ï¼š**
- ä¸»è¦æŒ‰é’®ï¼š`[å¼€å§‹ä½¿ç”¨]` `[+ æ–°å»ºä¹¦ç±]`
- æ¬¡è¦æŒ‰é’®ï¼š`[ç¼–è¾‘]` `[åˆ é™¤]` `[QR]`
- å›¾æ ‡æŒ‰é’®ï¼š`[ğŸ“‹ å¤åˆ¶é“¾æ¥]` `[ğŸ“± åˆ†äº«]`

**4. å›¾æ ‡ä½¿ç”¨ï¼š**
- ğŸ“š Bookï¼ˆä¹¦ç±ï¼‰
- ğŸ“– Chapterï¼ˆç« èŠ‚ï¼‰
- ğŸµ Audioï¼ˆéŸ³é¢‘ï¼‰
- ğŸ¬ Videoï¼ˆè§†é¢‘ï¼‰
- ğŸ‘ï¸ å…¬å¼€
- ğŸ”’ ç§å¯†
- âœ“ å®Œæˆ
- â³ è¿›è¡Œä¸­

**5. é¢œè‰²ä½“ç³»ï¼ˆå»ºè®®ï¼‰ï¼š**
- ä¸»è‰²è°ƒï¼šè“è‰²ç³»ï¼ˆå“ç‰Œè‰²ï¼‰
- æˆåŠŸï¼šç»¿è‰²ï¼ˆâœ“ï¼‰
- è­¦å‘Šï¼šé»„è‰²ï¼ˆâ³ï¼‰
- é”™è¯¯ï¼šçº¢è‰²
- ä¸­æ€§ï¼šç°è‰²ï¼ˆæ–‡æœ¬ã€è¾¹æ¡†ï¼‰

**6. é—´è·è§„èŒƒï¼š**
- é¡µé¢è¾¹è·ï¼šç»Ÿä¸€
- å¡ç‰‡é—´è·ï¼šä¸€è‡´
- æŒ‰é’®é—´è·ï¼šæ ‡å‡†åŒ–

**7. å­—ä½“å±‚çº§ï¼š**
- H1: é¡µé¢æ ‡é¢˜ï¼ˆå¦‚"æˆ‘çš„ä¹¦ç±"ï¼‰
- H2: åŒºåŸŸæ ‡é¢˜ï¼ˆå¦‚"æ ¸å¿ƒåŠŸèƒ½"ï¼‰
- H3: å¡ç‰‡æ ‡é¢˜ï¼ˆå¦‚"Podcast ç³»åˆ— 1"ï¼‰
- Body: æ­£æ–‡å†…å®¹

---

## å…­ã€æ–‡ä»¶å­˜å‚¨è®¾è®¡

### 6.1 ç›®å½•ç»“æ„

```
uploads/
  â”œâ”€â”€ users/
  â”‚   â””â”€â”€ {user_id}/
  â”‚       â””â”€â”€ books/
  â”‚           â””â”€â”€ {book_id}/
  â”‚               â”œâ”€â”€ media/
  â”‚               â”‚   â”œâ”€â”€ {uuid}.mp3
  â”‚               â”‚   â”œâ”€â”€ {uuid}.mp4
  â”‚               â”‚   â””â”€â”€ ...
  â”‚               â””â”€â”€ covers/
  â”‚                   â””â”€â”€ {uuid}.jpg
  â””â”€â”€ qrcodes/
      â”œâ”€â”€ {media_id}.png
      â””â”€â”€ ...

assets/
  â””â”€â”€ static/
      â”œâ”€â”€ qrcodes/          # äºŒç»´ç é™æ€è®¿é—®è·¯å¾„
      â””â”€â”€ uploads/          # è½¯é“¾æ¥åˆ° uploads/ (å¯é€‰)
```

### 6.2 è®¿é—®ç­–ç•¥

- **åª’ä½“æ–‡ä»¶**: é€šè¿‡ `/public/media/:access_token` è®¿é—®ï¼Œåç«¯æ ¡éªŒæƒé™
- **äºŒç»´ç **: é€šè¿‡ `/static/qrcodes/:id.png` ç›´æ¥è®¿é—®ï¼ˆé™æ€æ–‡ä»¶ï¼‰
- **å°é¢å›¾**: é€šè¿‡ `/static/covers/:filename` è®¿é—®

### 6.3 æ–‡ä»¶å‘½åè§„åˆ™

```rust
// åª’ä½“æ–‡ä»¶
let file_name = format!("{}.{}", Uuid::new_v4(), extension);

// äºŒç»´ç 
let qr_name = format!("{}.png", media_id);

// è®¿é—® token
let access_token = Uuid::new_v4().to_string();
```

---

## ä¸ƒã€æ ¸å¿ƒåŠŸèƒ½å®ç°ç»†èŠ‚

### 7.1 æ–‡ä»¶ä¸Šä¼ æµç¨‹

```
1. å‰ç«¯é€‰æ‹©æ–‡ä»¶ â†’ éªŒè¯æ ¼å¼å’Œå¤§å°
2. ä¸Šä¼ åˆ° /api/media/upload (multipart/form-data)
3. åç«¯æ¥æ”¶æ–‡ä»¶
   â”œâ”€â”€ ä¿å­˜åˆ°ä¸´æ—¶ç›®å½•
   â”œâ”€â”€ éªŒè¯æ–‡ä»¶ç±»å‹ï¼ˆMIME typeï¼‰
   â”œâ”€â”€ ç”Ÿæˆ UUID æ–‡ä»¶å
   â”œâ”€â”€ ç§»åŠ¨åˆ°ç›®æ ‡ç›®å½• uploads/users/{user_id}/books/{book_id}/media/
   â”œâ”€â”€ æå–åª’ä½“ä¿¡æ¯ï¼ˆæ—¶é•¿ã€ç ç‡ç­‰ï¼‰- å¯é€‰
   â”œâ”€â”€ ç”Ÿæˆè®¿é—® tokenï¼ˆUUID v4ï¼Œæ°¸ä¸æ”¹å˜ï¼‰
   â”œâ”€â”€ ç”Ÿæˆè®¿é—® URL
   â”œâ”€â”€ ä¿å­˜åŸå§‹æ–‡ä»¶å
   â””â”€â”€ ä¿å­˜åˆ°æ•°æ®åº“ï¼ˆfile_version = 1ï¼‰
4. åå°ä»»åŠ¡ï¼ˆWorkerï¼‰
   â”œâ”€â”€ ç”ŸæˆäºŒç»´ç 
   â”œâ”€â”€ ç”Ÿæˆç¼©ç•¥å›¾ï¼ˆè§†é¢‘ï¼‰
   â””â”€â”€ æ›´æ–°æ•°æ®åº“
5. è¿”å›å“åº”ç»™å‰ç«¯
```

### 7.2 æ–‡ä»¶æ›¿æ¢æµç¨‹ï¼ˆæ–°å¢ï¼‰

```
1. å‰ç«¯é€‰æ‹©æ–°æ–‡ä»¶ä¸Šä¼ åˆ° PUT /api/media/:id/replace-file
2. åç«¯æ¥æ”¶æ–‡ä»¶
   â”œâ”€â”€ éªŒè¯ç”¨æˆ·æƒé™ï¼ˆåªæœ‰æ‰€æœ‰è€…å¯ä»¥æ›¿æ¢ï¼‰
   â”œâ”€â”€ è·å–ç°æœ‰ media è®°å½•
   â”œâ”€â”€ ä¿ç•™ access_token ä¸å˜
   â”œâ”€â”€ éªŒè¯æ–°æ–‡ä»¶ç±»å‹
   â”œâ”€â”€ ç”Ÿæˆæ–°çš„ UUID æ–‡ä»¶å
   â”œâ”€â”€ åˆ é™¤æ—§æ–‡ä»¶
   â”œâ”€â”€ ä¿å­˜æ–°æ–‡ä»¶åˆ°åŒä¸€ç›®å½•
   â”œâ”€â”€ æå–æ–°æ–‡ä»¶çš„åª’ä½“ä¿¡æ¯
   â””â”€â”€ æ›´æ–°æ•°æ®åº“
       â”œâ”€â”€ file_path â†’ æ–°è·¯å¾„
       â”œâ”€â”€ file_size â†’ æ–°å¤§å°
       â”œâ”€â”€ duration â†’ æ–°æ—¶é•¿
       â”œâ”€â”€ file_version â†’ +1
       â”œâ”€â”€ original_filename â†’ æ–°æ–‡ä»¶å
       â”œâ”€â”€ updated_at â†’ å½“å‰æ—¶é—´
       â””â”€â”€ access_token ä¿æŒä¸å˜ï¼ˆé‡è¦ï¼ï¼‰
3. äºŒç»´ç æ— éœ€é‡æ–°ç”Ÿæˆï¼ˆå› ä¸º access_url æœªå˜ï¼‰
4. è¿”å›å“åº”ç»™å‰ç«¯
```

**å®ç°ç¤ºä¾‹ä»£ç ï¼š**

```rust
// æ›¿æ¢åª’ä½“æ–‡ä»¶
pub async fn replace_media_file(
    db: &DatabaseConnection,
    media_id: i32,
    user_id: i32,
    new_file: UploadedFile,
) -> Result<media::Model> {
    // 1. è·å–ç°æœ‰åª’ä½“è®°å½•å¹¶éªŒè¯æƒé™
    let media = media::Entity::find_by_id(media_id)
        .one(db)
        .await?
        .ok_or("Media not found")?;

    if media.user_id != user_id {
        return Err("Permission denied");
    }

    // 2. ä¿å­˜æ–°æ–‡ä»¶
    let new_file_path = storage::save_file(&new_file).await?;

    // 3. åˆ é™¤æ—§æ–‡ä»¶
    if tokio::fs::metadata(&media.file_path).await.is_ok() {
        tokio::fs::remove_file(&media.file_path).await?;
    }

    // 4. æå–æ–°æ–‡ä»¶ä¿¡æ¯
    let duration = extract_duration(&new_file_path).await?;

    // 5. æ›´æ–°æ•°æ®åº“ï¼ˆä¿æŒ access_token ä¸å˜ï¼‰
    let mut active_model: media::ActiveModel = media.into();
    active_model.file_path = Set(new_file_path);
    active_model.file_size = Set(new_file.size);
    active_model.duration = Set(Some(duration));
    active_model.file_version = Set(media.file_version + 1);
    active_model.original_filename = Set(Some(new_file.filename));
    active_model.updated_at = Set(chrono::Utc::now().naive_utc());
    // access_token ä¸å˜

    let updated_media = active_model.update(db).await?;

    Ok(updated_media)
}
```

### 7.3 äºŒç»´ç ç”Ÿæˆ

```rust
use qrcode::{QrCode, render::svg};
use image::Luma;

// ç”ŸæˆäºŒç»´ç 
let code = QrCode::new(access_url)?;
let image = code.render::<Luma<u8>>().build();
image.save(qr_code_path)?;
```

**è¯´æ˜ï¼š**
- äºŒç»´ç åŸºäº `access_url` ç”Ÿæˆï¼Œå› ä¸º `access_token` ä¸å˜ï¼ŒäºŒç»´ç ä¹Ÿæ°¸ä¹…æœ‰æ•ˆ
- æ›¿æ¢æ–‡ä»¶æ—¶æ— éœ€é‡æ–°ç”ŸæˆäºŒç»´ç 

### 7.4 æµåª’ä½“ä¼ è¾“ï¼ˆæ”¯æŒ Range è¯·æ±‚ï¼‰

```rust
// ä½¿ç”¨ tower-http æä¾›æ–‡ä»¶æœåŠ¡
use tower_http::services::ServeFile;

// æ”¯æŒ Range è¯·æ±‚ï¼Œå®ç°æ–­ç‚¹ç»­ä¼ å’Œæ‹–åŠ¨æ’­æ”¾
// å“åº”å¤´: Accept-Ranges: bytes
// è¯·æ±‚å¤´: Range: bytes=0-1023
```

### 7.5 æƒé™æ§åˆ¶

```rust
// è®¿é—®æ§åˆ¶é€»è¾‘
pub async fn can_access_media(
    db: &DatabaseConnection,
    access_token: &str,
    user_id: Option<i32>,
) -> Result<bool> {
    let media = Media::find_by_access_token(db, access_token).await?;

    // å…¬å¼€æ–‡ä»¶ä»»ä½•äººéƒ½å¯ä»¥è®¿é—®
    if media.is_public {
        return Ok(true);
    }

    // ç§æœ‰æ–‡ä»¶åªæœ‰æ‰€æœ‰è€…å¯ä»¥è®¿é—®
    if let Some(uid) = user_id {
        return Ok(media.user_id == uid);
    }

    Ok(false)
}
```

**è¯´æ˜ï¼š**
- ä½¿ç”¨ `access_token` è€Œé `media_id` è¿›è¡Œè®¿é—®æ§åˆ¶
- å³ä½¿æ–‡ä»¶è¢«æ›¿æ¢ï¼Œè®¿é—®æƒé™é€»è¾‘ä¿æŒä¸å˜

---

## å…«ã€å®æ–½æ–¹æ¡ˆ

### æ–¹æ¡ˆ Aï¼šç®€åŒ–ç‰ˆ MVPï¼ˆæ¨èå…ˆå®ç°ï¼‰

**æ•°æ®æ¨¡å‹ï¼š**
```
User â†’ Book â†’ Media
```

**ç‰¹ç‚¹ï¼š**
- ä¸å®ç° Chapter å±‚çº§
- Book æ”¯æŒ `parent_id`ï¼ˆé¢„ç•™åµŒå¥—èƒ½åŠ›ï¼‰
- å¿«é€ŸéªŒè¯æ ¸å¿ƒåŠŸèƒ½

**å¼€å‘é¡ºåºï¼š**
1. âœ… ç”¨æˆ·è®¤è¯ï¼ˆå·²å®Œæˆï¼‰
2. æ•°æ®åº“ Migrationï¼ˆbooks, media è¡¨ï¼ŒåŒ…å« file_version å’Œ original_filename å­—æ®µï¼‰
3. Book CRUD API
4. Media ä¸Šä¼ åŠŸèƒ½ï¼ˆç”Ÿæˆæ°¸ä¹… access_tokenï¼‰
5. Media æ–‡ä»¶æ›¿æ¢åŠŸèƒ½ï¼ˆä¿æŒ access_token ä¸å˜ï¼‰
6. äºŒç»´ç ç”ŸæˆæœåŠ¡
7. å…¬å¼€è®¿é—® API
8. æµåª’ä½“æ’­æ”¾
9. å‰ç«¯ UI å¼€å‘

### æ–¹æ¡ˆ Bï¼šå®Œæ•´ç‰ˆ

**æ•°æ®æ¨¡å‹ï¼š**
```
User â†’ Book (å¯åµŒå¥—) â†’ Chapter â†’ Media
```

**ç‰¹ç‚¹ï¼š**
- æ”¯æŒå¤šçº§ Book åˆ†ç±»
- æ”¯æŒ Chapter ç®¡ç†
- æ›´çµæ´»çš„å†…å®¹ç»„ç»‡

**å®æ–½å»ºè®®ï¼š**
- åœ¨æ–¹æ¡ˆ A åŸºç¡€ä¸Šå¢åŠ  Chapter ç›¸å…³åŠŸèƒ½
- é€‚åˆå†…å®¹è¾ƒå¤šã€éœ€è¦ç²¾ç»†ç®¡ç†çš„åœºæ™¯

---

## ä¹ã€æŠ€æœ¯éš¾ç‚¹å’Œè§£å†³æ–¹æ¡ˆ

### 9.1 å¤§æ–‡ä»¶ä¸Šä¼ 

**é—®é¢˜ï¼š** ä¸Šä¼ å¤§å‹è§†é¢‘æ–‡ä»¶å¯èƒ½è¶…æ—¶æˆ–å ç”¨å¤§é‡å†…å­˜

**è§£å†³æ–¹æ¡ˆï¼š**
- ä½¿ç”¨æµå¼ä¸Šä¼ ï¼ˆstreamingï¼‰
- é™åˆ¶æ–‡ä»¶å¤§å°ï¼ˆå¦‚ 500MBï¼‰
- å¯é€‰ï¼šå®ç°åˆ†ç‰‡ä¸Šä¼ ï¼ˆchunked uploadï¼‰

### 9.2 åª’ä½“ä¿¡æ¯æå–

**é—®é¢˜ï¼š** éœ€è¦æå–éŸ³è§†é¢‘æ—¶é•¿ã€ç ç‡ç­‰ä¿¡æ¯

**è§£å†³æ–¹æ¡ˆï¼š**
- æ–¹æ¡ˆ 1ï¼šä½¿ç”¨ `ffmpeg-next` crateï¼ˆéœ€è¦ç³»ç»Ÿå®‰è£… FFmpegï¼‰
- æ–¹æ¡ˆ 2ï¼šä½¿ç”¨ `symphonia` crateï¼ˆçº¯ Rustï¼Œä»…æ”¯æŒéŸ³é¢‘ï¼‰
- æ–¹æ¡ˆ 3ï¼šå‰ç«¯æå–ï¼ˆä½¿ç”¨ HTML5 APIï¼‰

### 9.3 æµåª’ä½“æ€§èƒ½

**é—®é¢˜ï¼š** å¤§é‡å¹¶å‘æ’­æ”¾å¯èƒ½å½±å“æ€§èƒ½

**è§£å†³æ–¹æ¡ˆï¼š**
- ä½¿ç”¨ CDNï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
- æœ¬åœ°å¼€å‘ä½¿ç”¨ tower-http çš„é™æ€æ–‡ä»¶æœåŠ¡
- å®ç°ç¼“å­˜ç­–ç•¥

### 9.4 æ–‡ä»¶æ›¿æ¢çš„åŸå­æ€§ï¼ˆæ–°å¢ï¼‰

**é—®é¢˜ï¼š** æ›¿æ¢æ–‡ä»¶æ—¶å¦‚æœä¸­é€”å¤±è´¥ï¼Œå¯èƒ½å¯¼è‡´æ–‡ä»¶ä¸¢å¤±

**è§£å†³æ–¹æ¡ˆï¼š**
```rust
// ä½¿ç”¨ä¸¤é˜¶æ®µæäº¤ç­–ç•¥
async fn replace_file_safely(old_path: &str, new_path: &str) -> Result<()> {
    // 1. å…ˆä¿å­˜æ–°æ–‡ä»¶åˆ°ä¸´æ—¶ä½ç½®
    let temp_path = format!("{}.new", old_path);
    fs::copy(new_path, &temp_path).await?;

    // 2. å¤‡ä»½æ—§æ–‡ä»¶
    let backup_path = format!("{}.bak", old_path);
    if fs::metadata(old_path).await.is_ok() {
        fs::rename(old_path, &backup_path).await?;
    }

    // 3. ç§»åŠ¨æ–°æ–‡ä»¶åˆ°æ­£å¼ä½ç½®
    match fs::rename(&temp_path, old_path).await {
        Ok(_) => {
            // æˆåŠŸååˆ é™¤å¤‡ä»½
            fs::remove_file(&backup_path).await.ok();
            Ok(())
        }
        Err(e) => {
            // å¤±è´¥æ—¶æ¢å¤å¤‡ä»½
            fs::rename(&backup_path, old_path).await.ok();
            Err(e)
        }
    }
}
```

---

## åã€æœªæ¥æ‰©å±•

1. **ç»Ÿè®¡åˆ†æ**
   - æ’­æ”¾æ¬¡æ•°ã€æ—¶é•¿ç»Ÿè®¡
   - ç”¨æˆ·è¡Œä¸ºåˆ†æ

2. **é«˜çº§åŠŸèƒ½**
   - è¯„è®ºç³»ç»Ÿ
   - ç‚¹èµ/æ”¶è—
   - æ’­æ”¾åˆ—è¡¨
   - RSS è®¢é˜…

3. **å­˜å‚¨ä¼˜åŒ–**
   - å¯¹æ¥äº‘å­˜å‚¨ï¼ˆS3, OSSï¼‰
   - è‡ªåŠ¨è½¬ç ï¼ˆç»Ÿä¸€æ ¼å¼ï¼‰
   - è‡ªåŠ¨å‹ç¼©

4. **ç¤¾äº¤åŠŸèƒ½**
   - å…¬å¼€ä¸»é¡µ
   - å…³æ³¨/è®¢é˜…
   - åˆ†äº«åˆ°ç¤¾äº¤åª’ä½“

5. **æ–‡ä»¶ç‰ˆæœ¬ç®¡ç†ï¼ˆæ–°å¢ï¼‰**
   - ä¿ç•™å†å²ç‰ˆæœ¬
   - ç‰ˆæœ¬å›æ»šåŠŸèƒ½
   - ç‰ˆæœ¬å¯¹æ¯”
   - è‡ªåŠ¨æ¸…ç†æ—§ç‰ˆæœ¬

---

## åä¸€ã€æ–‡ä»¶æ ¼å¼å’Œé™åˆ¶è§„èŒƒ

### 11.1 æ”¯æŒçš„æ–‡ä»¶æ ¼å¼

**éŸ³é¢‘æ ¼å¼ï¼š**
- MP3 (audio/mpeg)
- M4A (audio/mp4)
- WAV (audio/wav)
- AAC (audio/aac)
- OGG (audio/ogg)
- FLAC (audio/flac)

**è§†é¢‘æ ¼å¼ï¼š**
- MP4 (video/mp4)
- MOV (video/quicktime)
- AVI (video/x-msvideo)
- MKV (video/x-matroska)
- WebM (video/webm)

### 11.2 æ–‡ä»¶å¤§å°é™åˆ¶

- å•ä¸ªæ–‡ä»¶æœ€å¤§: 500MB
- æ€»å­˜å‚¨ç©ºé—´: æŒ‰ç”¨æˆ·é…é¢ç®¡ç†ï¼ˆæœªæ¥æ‰©å±•ï¼‰

### 11.3 ä¸Šä¼ é™åˆ¶

- å•æ¬¡æ‰¹é‡ä¸Šä¼ : æœ€å¤š 10 ä¸ªæ–‡ä»¶
- å¹¶å‘ä¸Šä¼ : æœ€å¤š 3 ä¸ªæ–‡ä»¶åŒæ—¶ä¸Šä¼ 

### 11.4 æ–‡ä»¶å‘½åè§„åˆ™

- æœåŠ¡å™¨å­˜å‚¨: UUID + æ‰©å±•åï¼ˆå¦‚ `a1b2c3d4-e5f6.mp3`ï¼‰
- åŸå§‹æ–‡ä»¶å: ä¿å­˜åœ¨ `original_filename` å­—æ®µ
- ä¸‹è½½æ—¶ä½¿ç”¨åŸå§‹æ–‡ä»¶å

---

## åäºŒã€å¼€å‘é‡Œç¨‹ç¢‘

### Phase 1: åç«¯åŸºç¡€ï¼ˆ1-2 å‘¨ï¼‰
- [ ] æ•°æ®åº“ Migrationï¼ˆæ·»åŠ  file_version å’Œ original_filename å­—æ®µï¼‰
- [ ] Book Model + API
- [ ] Media Model + APIï¼ˆåŒ…å«æ°¸ä¹… access_token ç”Ÿæˆï¼‰
- [ ] æ–‡ä»¶ä¸Šä¼ æœåŠ¡
- [ ] æ–‡ä»¶æ›¿æ¢æœåŠ¡ï¼ˆä¿æŒè®¿é—®é“¾æ¥ä¸å˜ï¼‰
- [ ] äºŒç»´ç ç”ŸæˆæœåŠ¡

### Phase 2: æ ¸å¿ƒåŠŸèƒ½ï¼ˆ1-2 å‘¨ï¼‰
- [ ] å…¬å¼€è®¿é—® APIï¼ˆåŸºäº access_tokenï¼‰
- [ ] æµåª’ä½“æ’­æ”¾ï¼ˆRange è¯·æ±‚æ”¯æŒï¼‰
- [ ] æƒé™æ§åˆ¶
- [ ] Worker åå°ä»»åŠ¡
- [ ] æ–‡ä»¶æ›¿æ¢åŸå­æ€§ä¿è¯

### Phase 3: å‰ç«¯å¼€å‘ï¼ˆ2-3 å‘¨ï¼‰
- [ ] é¡¹ç›®åˆå§‹åŒ–ï¼ˆVite + Reactï¼‰
- [ ] è·¯ç”±å’Œå¸ƒå±€
- [ ] ä¹¦ç±ç®¡ç†é¡µé¢
- [ ] ä¸Šä¼ é¡µé¢
- [ ] æ–‡ä»¶æ›¿æ¢åŠŸèƒ½ UI
- [ ] æ’­æ”¾é¡µé¢
- [ ] ç‰ˆæœ¬å†å²å±•ç¤º

### Phase 4: ä¼˜åŒ–å’Œæµ‹è¯•ï¼ˆ1 å‘¨ï¼‰
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] é”™è¯¯å¤„ç†
- [ ] å•å…ƒæµ‹è¯•
- [ ] é›†æˆæµ‹è¯•

---

## åäºŒã€é…ç½®æ–‡ä»¶è°ƒæ•´

### config/development.yaml

```yaml
server:
  middlewares:
    static:
      enable: true
      must_exist: false
      folder:
        uri: "/"
        path: "assets/static"
      fallback: "assets/static/index.html"
    # æ·»åŠ æ–‡ä»¶ä¸Šä¼ é™åˆ¶
    limit_payload:
      enable: true
      body_limit: 524288000  # 500MB

# åº”ç”¨é…ç½®
settings:
  upload:
    max_file_size: 524288000  # 500MB
    allowed_types: ["audio/mpeg", "audio/mp4", "video/mp4", "video/quicktime"]
    storage_path: "uploads"
  media:
    base_url: "http://localhost:5150"
```

---

## é™„å½•

### A. æ•°æ®åº“ç´¢å¼•å»ºè®®

```sql
-- Books
CREATE INDEX idx_books_user_id ON books(user_id);
CREATE INDEX idx_books_parent_id ON books(parent_id);

-- Chapters
CREATE INDEX idx_chapters_book_id ON chapters(book_id);

-- Media
CREATE INDEX idx_media_book_id ON media(book_id);
CREATE INDEX idx_media_chapter_id ON media(chapter_id);
CREATE INDEX idx_media_user_id ON media(user_id);
CREATE UNIQUE INDEX idx_media_access_token ON media(access_token);
CREATE INDEX idx_media_is_public ON media(is_public);
```

### B. API å“åº”æ ¼å¼è§„èŒƒ

```json
// æˆåŠŸå“åº”
{
  "data": { ... },
  "message": "æ“ä½œæˆåŠŸ"
}

// é”™è¯¯å“åº”
{
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "å‚æ•°éªŒè¯å¤±è´¥",
    "details": [
      {
        "field": "title",
        "message": "æ ‡é¢˜ä¸èƒ½ä¸ºç©º"
      }
    ]
  }
}

// åˆ†é¡µå“åº”
{
  "data": [...],
  "pagination": {
    "page": 1,
    "per_page": 20,
    "total": 100,
    "total_pages": 5
  }
}
```

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.1
**åˆ›å»ºæ—¥æœŸ**: 2025-10-06
**æœ€åæ›´æ–°**: 2025-10-06
**ä½œè€…**: Claude & pingfury

---

## å˜æ›´å†å²

### v1.1 (2025-10-06)
- **æ–°å¢**: Media è¡¨æ·»åŠ  `file_version` å’Œ `original_filename` å­—æ®µ
- **æ–°å¢**: æ–‡ä»¶æ›¿æ¢åŠŸèƒ½ï¼ˆPUT /api/media/:id/replace-fileï¼‰
- **æ–°å¢**: æ–‡ä»¶ç‰ˆæœ¬å†å² APIï¼ˆGET /api/media/:id/historyï¼‰
- **ä¿®æ”¹**: `access_token` è®¾è®¡ä¸ºæ°¸ä¹…ä¸å˜ï¼Œæ”¯æŒæ–‡ä»¶æ›¿æ¢ä½†é“¾æ¥ä¸å˜
- **æ–°å¢**: æ–‡ä»¶æ›¿æ¢çš„åŸå­æ€§è§£å†³æ–¹æ¡ˆ
- **æ–°å¢**: äºŒç»´ç æ°¸ä¹…æœ‰æ•ˆè¯´æ˜

### v1.0 (2025-10-06)
- åˆå§‹ç‰ˆæœ¬
- åŸºç¡€æ•°æ®æ¨¡å‹è®¾è®¡
- æ ¸å¿ƒ API è®¾è®¡
- å‰åç«¯æŠ€æœ¯é€‰å‹
